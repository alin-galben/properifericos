<div class="container-principal mt-3" *ngIf="currentUser">
  <div class="container">
    <div class="main-body">
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img (click)="actualizarAvatar(content)" [src]="avatar.imagen" alt="Admin" class="rounded-circle avatar-imagen" width="150">
                    <div class="mt-3">
                      <h4>{{ currentUser.username }}</h4>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mt-3">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" *ngFor="let role of currentUser.roles">    
                        <h6 class="mb-0"><i class="fas fa-user icono"></i> {{role}}</h6>
                    </li>
                </ul>
              </div>
            </div>
            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Nombre de usuario</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{ currentUser.username}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{ currentUser.email}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Token</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{ currentUser.accessToken}}
                    </div>
                  </div>
            
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Fecha de Creación</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{user.createdAt}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-danger"  (click)="borrarCuentaModal(borrar)">Borrar Cuenta</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>



<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Actualizar Avatar</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="container container-imagenes">
    <div class="row" id="team">
      <div class="col-xs-6 col-sm-3 mt-2 imagen-lista" *ngFor="let avatar of avatares">
          <div class="team-member">
              <div class="overlay-wrapper2">
                  <img id="closemodal" [src]="avatar.imagen" class="img-responsive imagen-lista-item" (click)="selecAvatar(avatar.id); modal.close('Close click')">
              </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">Cancelar</button>
  </div>

</ng-template>

<ng-template #borrar let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Borrar Cuenta</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="texto-borrar" style="text-align: center;">
    <div class="mb-2" style="font-weight: 700;">
      ¿ Estas segur@ que quires eliminar la cuenta <span style="color: rgb(196, 75, 38);">{{currentUser.username}}</span> ?
    </div>
    <div style="margin-bottom: 10px;">
      Toda la información asociada a este perfil sera borrada permanentemente. ¡Esta operación es irreversible!
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="modal.close('Close click')">Cancelar</button>
    <button type="button" class="btn btn-danger" (click)="deleteUser(currentUser.id); modal.close('Close click')">Borrar</button>
  </div>

</ng-template>